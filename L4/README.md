# Funcionament de la GLCD Programació en C a Proteus

## Laboratori sessió
- [Source code](#source-code)
- [Schematic capture](#schematic-capture)

### Source code

```
/* Main.c file generated by New Project wizard
 *
 * Created:   8 oct. 2014 by Josep Fernandez
 * Processor: PIC18F4550
 * Compiler:  MPLAB XC8
 */

#include <xc.h>
#define _XTAL_FREQ 8000000  

#include <string.h>
#include "config.h"
#include "GLCD.h"
#include "bitmap_Bart.h"

const char * s1 = "Hola CI \n";

/*void writeTxt(byte page, byte y, char * s) {
	int i=0;
	while (*s!='\n' && *s!='\0') { 
		putchGLCD(page, y+i, *(s++));
		i++;
	};
}	

void Saluda()
{
	writeTxt(6,1, s1);
}*/

void writeImatge() {
   for(int i=0;i<1024;i++){
      writeByte(i/128,i%128, bitmap[i]);
   }
}
void main(void)
{
	PORTD=0; 		   //Donem uns valors inicials als ports
	PORTB=0;  
	TRISD=0x00;		   //Configurem D i B de sortida
	TRISB=0x00;
    
	GLCDinit();		   //Inicialitzem la pantalla
	clearGLCD(0,7,0,127);      //Esborrem pantalla
	setStartLine(0);           //Definim linia d'inici
   
	 writeImatge();
        //Saluda();
        while (1);
}
```

### Schematic capture

![Screenshot]()
